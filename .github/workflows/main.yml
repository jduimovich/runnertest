name: run-crc-self-hosted-actions
env:    
  DEPLOY: "deploy-openshift"
on:
  # Learn more about events https://docs.github.com/en/free-pro-team@latest/actions/reference/events-that-trigger-workflows
  push:
    # Edit to the branch(es) you want to build and deploy on each push.
    branches: [ main ]
jobs:
  test-shell:
    name: Use CRC and Sample App Testing
    runs-on: self-hosted 
    steps:
    - uses: actions/checkout@v2 
    - name: Install CRC 
      run: | 
        echo "Installing CRC on local machine enabled scripts "
        echo "TBD: Do this manually  "
    - name: Start CRC
      run: | 
        echo "Running CRC start to run CRC"
        crc start ~/bin/pull-secret.txt
    - name: Login CRC 
      run: | 
        echo "Login CRC "
        login-crc
        oc get nodes 
    - name: Stop CRC
      run: |  
        crc stop
 
 
 
  
